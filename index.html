<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <meta
      name="viewport"
      content="width=device-width,
      initial-scale=1,
      user-scalable=no"
   >
   <title>Bolsa</title>

   <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"
   />

   <link rel="stylesheet" href="static/css/main.css">
   <link rel="stylesheet" href="static/css/panel.css">
   <link rel="stylesheet" href="static/css/table.css">
   <link rel="stylesheet" href="static/css/cells.css">

   <link rel="manifest" href="manifest.json" />

   <script src="static/js/test_data.js"></script>
   <script src="static/js/temp.js"></script>
   <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>
<body>

<main id="app"
   x-data="{
      usuario: '',
      password: '',
      logged: false, // AAAAAAAAAAAA,
      cuenta: '',
   }"
   @logueando="logged = !logged"
>

<form id="log-form"
   x-show="!logged"
   x-transition
>
   <label for="user">User:</label>
   <input type="text" id="user" x-model="usuario">
   <!-- <span x-text="usuario"></span> -->

   <label for="pass">Pass:</label>
   <input type="password" id="pass" x-model="password">
   <!-- <span x-text="password"></span> -->

   <button @click.prevent="$dispatch('logueando')">Login</button>
</form>



<div id="main"
   x-data="{table_size: 6}"
   x-show="logged"
   x-cloak
   x-transition
>
   <div class="arriba">
      <button id="cuenta">Cuenta</button>
      <br>
      <button id="log-out" @click="$dispatch('logueando')">Log out</button>
      <button id="export">Import</button>
      <button id="export">Export</button>
      <button id="save">Save</button>
   </div>



   <div id="tabla">
      <div class="cabecera" role="group">
         <span class="cell-0">Ix</span>
         <span class="cell-1">Fecha</span>
         <span class="cell-2">Abono</span>
         <span class="cell-3">Cargo</span>
         <span class="cell-4" x-show="table_size >= 5">Motivo</span>
         <span class="cell-5" x-show="table_size >= 6">Detalle</span>
         <span class="cell-6" x-show="table_size >= 7">Fuente</span>
      </div>
      <div class="registros">
         <template x-for="id in alvin.data.length">
         <div :id="'row-' + (id + 1)">
            <span class="cell-0" x-text="id"></span>
            <span class="cell-1" x-text="alvin.data[id - 1][0]"></span>
            <span class="cell-2 positive" x-text="alvin.data[id - 1][1].toLocaleString('es')"></span>
            <span class="cell-3 negative" x-text="alvin.data[id - 1][2].toLocaleString('es')"></span>
            <span class="cell-4" x-text="alvin.data[id - 1][3]" x-show="table_size >= 5"></span>
            <span class="cell-5" x-text="alvin.data[id - 1][4]" x-show="table_size >= 6"></span>
            <span class="cell-6" x-text="alvin.data[id - 1][5]" x-show="table_size >= 7"></span>
         </div>
         </template>
      </div>
   </div>



   <div class="abajo">
      <div id="status">
         <div id="count" x-text="'count: x'"></div>
         <div id="sum" x-text="'sum: x'"></div>
         <div id="average" x-text="'average: x'"></div>
      </div>
      <div id="actions">
         <button id="del-mode">Delete Mode</button>
         <button id="new-rec">New Record</button>
         <button id="detail-level"
            @click="if (table_size >= 7) table_size = 5; else table_size++"
         >Detail Level</button>
      </div>
   </div>
</div>

</main>

</body>
</html>
